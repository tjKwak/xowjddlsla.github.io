<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <link rel="stylesheet" href="css/reset.css">
    <style>
        div{
            border: 1px solid black;
        }
        section{
            text-align: center;
            
            height: 500px;
            
            position: absolute;
            left: 0;
            right: 0;
            border: 10px solid red;
            box-sizing: border-box;
        }
        .a{
            display: inline-block;
            width: 60%;
            height: 50px;
            background-color: pink;
        }
        .b{display: inline-block;
            position: relative;
            
            width: 60%;
            height: 300px;
            background-color: blue;
        }
        .c{
            display: inline-block;
            width: 60%;
            height: 100px;
            background-color: gray;
        }
        .page{
            width: 100px;
            height: 100px;
            border-radius: 100px;
            display: inline-block;
            background-color: #fff;
            border: none;
            line-height: 100px;
            font-size: 2rem;
        }
        .page.hidden{
            display: none;
        }
    
    </style>
</head>
<body>
    <section>
        <div class="a"></div>
        <div class="b">
            <button class="open">A open</button>
            <button class="open">B open</button>
            <button class="open">C open</button>
            <button class="close">A close</button>
            <button class="close">B close</button>
            <button class="close">C close</button>
        </div>
        <div class="c">
            <div class="page hidden">A</div>
            <div class="page hidden">B</div>
            <div class="page hidden">C</div>
        </div>
    </section>
    <div style="height: 1000px;"></div>
    <script>
    
        const openBtns = document.querySelectorAll('.open');
        const closeBtns = document.querySelectorAll('.close');
        const pageSecs = document.querySelectorAll('.page');
        
        //findindex 같이 indexnum 찾아주는 array 메서드.
        //indexof 
        //유사배열 -> 진짜배열로 바꿔주거나
        //유사배열인데, prototype으로 접근해서 array의 메서드를 빌려서 사용한다.
        //변수명.프로퍼티명 or 변수명[프로퍼티명]
        
//        for(let i=0; i< openBtns.length; i++){
//            openBtns[i].addEventListener('click', function(e){
//                e.preventDefault();
//                var btnArray = Array.from(openBtns);
//                var curIndex = btnArray.indexOf(e.target);
//                pageSecs[curIndex].classList.remove('hidden');
//                
//                console.log(btnArray); //(3) 진짜배열
//                console.log(openBtns); //NodeList(3)
//            });
//            closeBtns[i].addEventListener('click',function(e){
//                e.preventDefault();
//                var btnArray = Array.from(closeBtns);
//                var curIndex = btnArray.indexOf(e.target);
//                pageSecs[curIndex].classList.add('hidden');
//            })
//        }
//        console.log(Array.isArray(openBtns)) //false
        
        //var로 하니까 안됨... let을 사용하면 가짜배열로도 할 수 있다.
        for(let i=0; i<openBtns.length; i++){
            openBtns[i].addEventListener('click',function(e){
                e.preventDefault();
                pageSecs[i].classList.remove('hidden');
            })
        }
        
//        const 유샤배열 {
//            0: div1(node),
//            1: div2(node),
//            length:2
//        }
        
        
        //intro에서 portfolio - 스크롤 디바운스
        var timer;
        
        window.addEventListener('scroll', function (e) {
            if (!timer) {
                timer = setTimeout(function() {
                timer = null;
                    
                if(html.scrollTop === 0){
                    contSec.classList.remove('on');
                    contSec.style.top = introSec.style.height.split('px')[0]*1 + 'px';
                    introSec.classList.add('on');
                }
                else{
                    contSec.classList.add('on');
                    contSec.style.top = '0px';
                    introSec.classList.remove('on');
                }
            }, 200);
            }
            
        });
    
    </script>
</body>
</html>